<HTML>
<HEAD>
<TITLE>Xlib Programming Manual: SelectionNotify Events</TITLE>
</HEAD>

<BODY>
<H1 ALIGN=center>10.13.5 SelectionNotify Events</H1>

<!.IN "Events" "SelectionNotify">
<!.IN "SelectionNotify" "" "@DEF@">

This event is generated by the X server in response to a
<B><A HREF="../../appendix/a.html#ConvertSelection">ConvertSelection</A></B>
protocol request when there is no owner for the selection.
When there is an owner, it should be generated by the owner
of the selection by using
<B><A HREF="../../event-handling/XSendEvent.html">XSendEvent()</A></B>.
The owner of a selection should send this event to a requestor when a selection
has been converted and stored as a property
or when a selection conversion could
not be performed (which is indicated by setting the property member to
<B>None</B>).

<P>

If
<B>None</B>
is specified as the property in the 
<B><A HREF="../../appendix/a.html#ConvertSelection">ConvertSelection</A></B>
protocol request, the owner should choose a property name,
store the result as that property on the requestor window,
and then send a 
<B>SelectionNotify</B>
giving that actual property name.

<A NAME="XSelectionEvent"></A>
<P>

The structure for this event type contains:

<P>

<!.IN "XSelectionEvent" "" "@DEF@">

<PRE><CODE>
typedef struct {
	int type;		/* SelectionNotify */
	unsigned long serial;	/* # of last request processed by server */
	Bool send_event;	/* true if this came from a <B><A HREF="../../appendix/a.html#SendEvent">SendEvent</A></B> request */
	Display *display;	/* Display the event was read from */
	Window requestor;
	Atom selection;
	Atom target;
	Atom property;		/* atom or None */
	Time time;
} XSelectionEvent;
</PRE></CODE>

<P>

The <B>requestor</B> member is set to the window associated with
the requestor of the selection.
The <B>selection</B> member is set to the atom that indicates the selection.
For example, PRIMARY is used for the primary selection.
The <B>target</B> member is set to the atom that indicates the converted type.
For example, PIXMAP is used for a pixmap.
The <B>property</B> member is set to the atom that indicates which
property the result was stored on.
If the conversion failed, 
the <B>property</B> member is set to
<B>None</B>.
The <B>time</B> member is set to the time the conversion took place and
can be a timestamp or
<B>CurrentTime</B>.

<H5 ALIGN=right><I>Next Chapter: <A HREF="../../event-handling/">Event Handling Functions</A></I></H5>

<HR><ADDRESS><A HREF="http://tronche.com/">Christophe Tronche</A>, <A HREF="mailto:ch.tronche@computer.org">ch.tronche@computer.org</A></ADDRESS>
</BODY>
</HTML>
